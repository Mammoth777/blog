---
title: "Cron 定时任务详解"
date: 2024-05-11
categories: ["后端", "运维"]
draft: false
---

## Cron 表达式格式

```
* * * * * *
- - - - - -
| | | | | |
| | | | | +----- day of week (0 - 6) (Sunday=0 or 7)
| | | | +------- month (1 - 12)
| | | +--------- day of month (1 - 31)
| | +----------- hour (0 - 23)
| +------------- minute (0 - 59)
+--------------- second (0 - 59)
```

## 字段说明

| 位置 | 字段 | 范围 |
|------|------|------|
| 1 | 秒 | 0 - 59 |
| 2 | 分 | 0 - 59 |
| 3 | 时 | 0 - 23 |
| 4 | 日 | 1 - 31 |
| 5 | 月 | 1 - 12 或 JAN-DEC |
| 6 | 星期 | 0 - 6 或 SUN-SAT（0 和 7 都代表星期天） |
| 7 | 年（可选） | 留空或 1970 - 2099 |

## 特殊字符

| 字符 | 说明 |
|------|------|
| `*` | 表示任何时间，或者任何值 |
| `-` | 表示一个范围 |
| `,` | 表示一个列表中的值或值范围的分隔符 |
| `/` | 表示起始时间开始触发，然后每隔固定时间触发一次 |

## 示例

| 表达式 | 说明 |
|--------|------|
| `0 0 12 * *` | 每天的中午 12 点触发 |
| `15 10 * * *` | 每天的上午 10 点 15 触发 |
| `0 0/5 14 * *` | 每天的 14 点开始，每 5 分钟触发一次，直到 14:55 |
| `0 0 1,15 * *` | 每月的 1 日和 15 日的午夜 12 点触发 |
| `0 0 1 * * sun` | 每个星期天的午夜 12 点触发 |

Cron 表达式非常灵活，可以用来创建各种复杂的时间调度规则。
