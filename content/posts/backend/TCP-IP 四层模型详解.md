---
title: "TCP/IP 四层模型详解"
date: 2025-07-07
categories: ["后端", "网络", "踩虫记"]
draft: false
---

TCP/IP 模型是互联网的基础协议模型，它将网络通信分为四个层次，每个层次负责特定的功能。从下到上依次为：

## 1. 链路层（Link Layer）

**功能**：负责在物理介质上传输数据帧。

**任务**：与 OSI 模型中的物理层和数据链路层相对应，负责将数据封装成帧，并进行错误检测和纠正。

**示例**：以太网、无线局域网。

### 常用命令

| 命令 | 用途 | 示例 |
|------|------|------|
| `ifconfig` 或 `ip` | 查看和配置网络接口 | `ifconfig` 或 `ip addr show` |
| `arp` | 查看和管理 ARP 表 | `arp -a` |
| `ethtool` | 查看和设置以太网设备参数 | `ethtool eth0` |

## 2. 网络层（Internet Layer）

**功能**：负责将数据包从源节点传输到目标节点。

**任务**：提供逻辑地址（如 IP 地址），实现数据包的分段和重组。

**示例**：IP 协议。

### 常用命令

| 命令 | 用途 | 示例 |
|------|------|------|
| `ping` | 测试主机之间的连通性 | `ping 8.8.8.8` |
| `traceroute` 或 `tracepath` | 显示数据包到达目标主机的路径 | `traceroute 8.8.8.8` |
| `route` 或 `netstat -r` | 查看和管理路由表 | `route -n` 或 `netstat -nr` |

## 3. 传输层（Transport Layer）

**功能**：负责端到端的可靠数据传输。

**任务**：提供端口号，用于区分不同的应用程序；实现流量控制、拥塞控制和错误恢复。

**示例**：TCP、UDP。

### 常用命令

| 命令 | 用途 | 示例 |
|------|------|------|
| `netstat` | 显示网络连接、路由表、接口统计 | `netstat -tuln` |
| `ss` | 显示套接字信息（更现代） | `ss -tuln` |
| `tcpdump` | 捕获和分析网络数据包 | `tcpdump -i eth0` |

## 4. 应用层（Application Layer）

**功能**：为用户提供网络服务。

**任务**：提供各种网络应用程序，如电子邮件、网页浏览、文件传输等。

**示例**：HTTP、SMTP、DNS。

### 常用命令

| 命令 | 用途 | 示例 |
|------|------|------|
| `curl` 或 `wget` | 从服务器下载文件或访问 Web 服务 | `curl http://example.com` |
| `telnet` 或 `nc` | 测试和调试网络服务 | `telnet example.com 80` |
| `whois` | 查询域名或 IP 地址的注册信息 | `whois example.com` |

## 总结

| 层次 | 协议 | 数据单位 | 典型设备 |
|------|------|----------|----------|
| 应用层 | HTTP, FTP, SMTP | 数据 | 计算机 |
| 传输层 | TCP, UDP | 段（Segment） | 防火墙 |
| 网络层 | IP | 包（Packet） | 路由器 |
| 链路层 | Ethernet, WiFi | 帧（Frame） | 交换机、网桥 |
